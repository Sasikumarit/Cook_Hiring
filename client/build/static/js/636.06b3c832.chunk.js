"use strict";(self.webpackChunkreact_frontend=self.webpackChunkreact_frontend||[]).push([[636],{1617:function(e,o,t){t(2791);var r=t(6015),n=t(6795),i=t(2419),a=t(7205),l=t(184);o.Z=function(e){var o=e.columns,t=e.rows,d=e.title,s=(e.user,e.buttonText),c=e.OnButtonClickHandler,u=e.isAddButton;return(0,l.jsxs)(r.Z,{sx:{height:400,width:"95%"},children:[(0,l.jsx)("h1",{children:d}),u&&(0,l.jsx)("div",{children:(0,l.jsx)(a.Z,{variant:"outlined",startIcon:(0,l.jsx)(i.Z,{}),onClick:function(){return c()},children:s})}),(0,l.jsx)(n._,{rows:t,columns:o,pageSize:5,rowsPerPageOptions:[5],disableSelectionOnClick:!0,experimentalFeatures:{newEditingApi:!0}})]})}},1636:function(e,o,t){t.r(o);var r=t(4165),n=t(5861),i=t(885),a=t(1413),l=t(2791),d=t(2892),s=t(6015),c=t(4666),u=t(3811),h=t(4565),p=t(1577),f=t(8008),m=t(803),v=t(3978),x=t(7205),w=t(5814),b=t(9407),y=t(8249),C=t(5985),g=t(7247),j=t(1286),Z=t(8515),k=t(1617),D=t(1044),A=t(1411),N=t(5391),G=t(184),L=(0,l.lazy)((function(){return Promise.all([t.e(610),t.e(663),t.e(311)]).then(t.bind(t,6311))})),J=(0,l.lazy)((function(){return t.e(56).then(t.bind(t,2056))})),B=(0,l.lazy)((function(){return t.e(436).then(t.bind(t,3436))})),O=(0,l.lazy)((function(){return t.e(547).then(t.bind(t,9547))})),T=(0,l.lazy)((function(){return Promise.all([t.e(610),t.e(763)]).then(t.bind(t,3763))})),P=(0,l.lazy)((function(){return t.e(620).then(t.bind(t,5620))})),M=["Job Details","Applicant Details"],S=["Dashboard","Post Jobs","Applied Candidates"],F=["Dashboard","Applied Jobs"],z=["Profile","Logout"],E=function(e,o){switch(o.type){case"setGridRowData":return(0,a.Z)((0,a.Z)({},e),{},{rows:o.payload});case"setNavBarTitle":return(0,a.Z)((0,a.Z)({},e),{},{navBarTitle:o.payload});case"setSelectedJobData":return(0,a.Z)((0,a.Z)({},e),{},{selectedJobData:o.payload});case"setEditMode":return(0,a.Z)((0,a.Z)({},e),o.payload);default:return e}};o.default=function(){var e,o=(0,Z.k6)(),t=l.useState(null===o||void 0===o||null===(e=o.location)||void 0===e?void 0:e.state),a=(0,i.Z)(t,2),H=a[0],I=a[1];l.useEffect((function(){var e;null!==o&&void 0!==o&&null!==(e=o.location)&&void 0!==e&&e.state?I(o.location.state):o.push("/")}),[]);var W=[{field:"sno",headerName:"S.No",width:90},{field:"jobdescription",headerName:"Job Description",width:150,editable:!0},{field:"wageperday",headerName:"Wage Per Day",type:"number",width:110,editable:!0},{field:"location",headerName:"Location",width:150,editable:!0},{field:"fromdate",headerName:"From Date",width:150,editable:!0,valueGetter:function(e){return"".concat(A.ou.fromISO(e.row.fromdate).toFormat("dd-MM-yyyy"))}},{field:"todate",headerName:"To Date",width:110,editable:!0,valueGetter:function(e){return"".concat(A.ou.fromISO(e.row.todate).toFormat("dd-MM-yyyy"))}},{field:"username",headerName:"User Name",width:110,editable:!0}],U=[{field:"sno",headerName:"S.No",width:90},{field:"jobdescription",headerName:"Job Description",width:150,editable:!0},{field:"wageperday",headerName:"Wage Per Day",type:"number",width:110,editable:!0},{field:"location",headerName:"Location",width:150,editable:!0},{field:"fromdate",headerName:"From Date",width:150,editable:!0,valueGetter:function(e){return"".concat(A.ou.fromISO(e.row.fromdate).toFormat("dd-MM-yyyy"))}},{field:"todate",headerName:"To Date",width:110,editable:!0,valueGetter:function(e){return"".concat(A.ou.fromISO(e.row.todate).toFormat("dd-MM-yyyy"))}},{field:"username",headerName:"User Name",width:110,editable:!0},{field:"Edit",width:110,headerName:"",renderCell:function(e){return(0,G.jsx)(x.Z,{variant:"outlined",startIcon:(0,G.jsx)(j.Z,{}),onClick:function(){return le("Post Jobs",null===e||void 0===e?void 0:e.row)},children:"Edit"})}},{field:"Delete",width:110,headerName:"",renderCell:function(e){return(0,G.jsx)(x.Z,{variant:"contained",color:"primary",onClick:function(o){!function(e){se.apply(this,arguments)}(null===e||void 0===e?void 0:e.row)},startIcon:(0,G.jsx)(g.Z,{}),fullWidth:!0,children:"Delete"})}}],R={jobGridColumns:W,cookGridColumns:[{field:"sno",headerName:"S.No",width:90},{field:"jobdescription",headerName:"Job Description",width:150,editable:!0},{field:"wageperday",headerName:"Wage Per Day",type:"number",width:110,editable:!0},{field:"location",headerName:"Location",width:150,editable:!0},{field:"fromdate",headerName:"From Date",width:150,editable:!0,valueGetter:function(e){return"".concat(A.ou.fromISO(e.row.fromdate).toFormat("dd-MM-yyyy"))}},{field:"todate",headerName:"To Date",width:110,editable:!0,valueGetter:function(e){return"".concat(A.ou.fromISO(e.row.todate).toFormat("dd-MM-yyyy"))}},{field:"username",headerName:"User Name",width:110,editable:!0},{renderCell:function(e){return(0,G.jsx)(x.Z,{variant:"contained",color:"primary",onClick:function(o){re({type:"setNavBarTitle",payload:"ApplicationForm"}),re({type:"setSelectedJobData",payload:e.row})},children:"Apply"})}}],adminGridColumns:U,rows:[],navBarTitle:(null===H||void 0===H?void 0:H.userrole.toLowerCase())===N.G.Admin.toLocaleLowerCase()?"Job Details":"Dashboard",selectedJobData:null},_=l.useState(null),q=(0,i.Z)(_,2),K=q[0],Q=q[1],V=l.useState(null),X=(0,i.Z)(V,2),Y=X[0],$=X[1],ee=l.useReducer(E,R),oe=(0,i.Z)(ee,2),te=oe[0],re=oe[1],ne={headers:{Authorization:null===H||void 0===H?void 0:H.token}};l.useEffect((function(){function e(){return(e=(0,n.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne={headers:{Authorization:null===H||void 0===H?void 0:H.token}},e.next=3,D.ZP.get("http://localhost:3000/"+"".concat((null===H||void 0===H?void 0:H.userrole.toLowerCase())===N.G.Cook.toLocaleLowerCase()?"jobs/findJobByUser/"+H.id:(null===H||void 0===H?void 0:H.userrole.toLowerCase())===N.G.Customer.toLocaleLowerCase()?"jobs/findUser/"+H.id:"jobs"),ne).then((function(e){return 200===e.status?(re({type:"setGridRowData",payload:e.data.response}),e.data.response):e})).catch((function(e){var o,t;C.Am.error(null===e||void 0===e||null===(o=e.response)||void 0===o||null===(t=o.data)||void 0===t?void 0:t.error,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}H&&function(){e.apply(this,arguments)}()}),[H,te.navBarTitle]);var ie=function(e){Q(null),e&&re({type:"setNavBarTitle",payload:e})},ae=function(e){e&&re({type:"setNavBarTitle",payload:e}),re({type:"setEditMode",payload:{isEditMode:!1,editData:null}})},le=function(e,o){re({type:"setEditMode",payload:{isEditMode:!0,editData:o}}),re({type:"setNavBarTitle",payload:e})},de=function(e){$(null),"Logout"===e&&o.push("/")};function se(){return(se=(0,n.Z)((0,r.Z)().mark((function e(o){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete ".concat(o.jobdescription,"'s record?"))){e.next=4;break}return e.next=4,D.ZP.delete("http://localhost:3000/"+"jobs/".concat(null===o||void 0===o?void 0:o.id),ne).then((function(e){return 200===e.status?C.Am.success("Job Successfully Deleted.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"}):C.Am.error("Failed to delete.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"}),e})).catch((function(e){var o,t;C.Am.error(null===e||void 0===e||null===(o=e.response)||void 0===o||null===(t=o.data)||void 0===t?void 0:t.error,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})}));case 4:case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,l.useEffect)((function(){H&&ce()}),[H,te.navBarTitle]);var ce=function(){return te.navBarTitle===N.w.JobDetails||te.navBarTitle===N.w.Dashboard?(0,G.jsx)(k.Z,{columns:ue(),rows:te.rows,buttonText:"Add Job",user:H,OnButtonClickHandler:function(){return ie("Post Jobs")},isAddButton:(null===H||void 0===H?void 0:H.userrole.toLowerCase())===N.G.Admin.toLocaleLowerCase()}):te.navBarTitle===N.w.PostJobs?(0,G.jsx)(L,{user:H,OncloseHandler:ae,data:te}):te.navBarTitle===N.w.AppliedCandidates?(0,G.jsx)(J,{user:H}):te.navBarTitle===N.w.AppliedJobs?(0,G.jsx)(B,{user:H}):te.navBarTitle===N.w.JobsPosted?(0,G.jsx)(O,{user:H}):te.navBarTitle===N.w.ApplicationForm?(0,G.jsx)(T,{user:H,data:te,handleCloseNavMenu:ie,selectedJobData:te.selectedJobData}):te.navBarTitle===N.w.ApplicantDetails?(0,G.jsx)(P,{user:H,handleGridEditButton:le}):(0,G.jsx)("div",{})};function ue(){return(null===H||void 0===H?void 0:H.userrole.toLowerCase())===N.G.Admin.toLowerCase()?te.adminGridColumns:(null===H||void 0===H?void 0:H.userrole.toLowerCase())===N.G.Cook.toLowerCase()?te.cookGridColumns:W}return(0,G.jsx)(G.Fragment,{children:(0,G.jsx)("div",{className:"dashboard",children:(0,G.jsxs)(s.Z,{sx:{bgcolor:"background.paper",width:"100%"},children:[(0,G.jsx)(d.Z,{position:"static",children:(0,G.jsx)(m.Z,{maxWidth:"xl",children:(0,G.jsxs)(c.Z,{disableGutters:!0,children:[(0,G.jsx)(y.Z,{sx:{display:{xs:"none",md:"flex"},mr:1}}),(0,G.jsx)(h.Z,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Cook Hiring"}),(0,G.jsxs)(s.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,G.jsx)(u.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){Q(e.currentTarget)},color:"inherit",children:(0,G.jsx)(f.Z,{})}),(0,G.jsxs)(p.Z,{id:"menu-appbar",anchorEl:K,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(K),onClose:function(){return ie()},sx:{display:{xs:"block",md:"none"}},children:[(null===H||void 0===H?void 0:H.userrole.toLowerCase())===N.G.Admin.toLowerCase()&&M.map((function(e){return(0,G.jsx)(b.Z,{onClick:function(){return ie(e)},children:(0,G.jsx)(h.Z,{textAlign:"center",children:e})},e)})),(null===H||void 0===H?void 0:H.userrole.toLowerCase())===N.G.Cook.toLowerCase()&&F.map((function(e){return(0,G.jsx)(b.Z,{onClick:function(){return ie(e)},children:(0,G.jsx)(h.Z,{textAlign:"center",children:e})},e)})),(null===H||void 0===H?void 0:H.userrole.toLowerCase())===N.G.Customer.toLowerCase()&&S.map((function(e){return(0,G.jsx)(b.Z,{onClick:function(){return ie(e)},children:(0,G.jsx)(h.Z,{textAlign:"center",children:e})},e)}))]})]}),(0,G.jsx)(h.Z,{variant:"h5",noWrap:!0,component:"a",href:"",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Cook Hiring"}),(0,G.jsxs)(s.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:[(null===H||void 0===H?void 0:H.userrole.toLowerCase())===N.G.Admin.toLowerCase()&&M.map((function(e){return(0,G.jsx)(x.Z,{onClick:function(){return ie(e)},sx:{my:2,color:"white",display:"block"},children:e},e)})),(null===H||void 0===H?void 0:H.userrole.toLowerCase())===N.G.Cook.toLowerCase()&&F.map((function(e){return(0,G.jsx)(x.Z,{onClick:function(){return ie(e)},sx:{my:2,color:"white",display:"block"},children:e},e)})),(null===H||void 0===H?void 0:H.userrole.toLowerCase())===N.G.Customer.toLowerCase()&&S.map((function(e){return(0,G.jsx)(x.Z,{onClick:function(){return ie(e)},sx:{my:2,color:"white",display:"block"},children:e},e)}))]}),(0,G.jsxs)(s.Z,{sx:{flexGrow:0},children:[(0,G.jsx)(w.Z,{title:"Open settings",children:(0,G.jsx)(u.Z,{onClick:function(e){$(e.currentTarget)},sx:{p:0},children:(0,G.jsx)(v.Z,{alt:"Remy Sharp",src:"/static/images/avatar/2.jpg"})})}),(0,G.jsxs)(p.Z,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:Y,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(Y),onClose:de,children:[(0,G.jsx)(b.Z,{children:(0,G.jsx)(h.Z,{textAlign:"center",children:"Username: "+(null===H||void 0===H?void 0:H.username)})},"Username"),(0,G.jsx)(b.Z,{children:(0,G.jsx)(h.Z,{textAlign:"center",children:"Role: "+(null===H||void 0===H?void 0:H.userrole.toUpperCase())})},"Role"),z.map((function(e){return(0,G.jsx)(b.Z,{onClick:function(){return de(e)},children:(0,G.jsx)(h.Z,{textAlign:"center",children:e})},e)}))]})]})]})})}),(0,G.jsx)(s.Z,{sx:{flexGrow:0},children:(0,G.jsx)("div",{style:{margin:"2%"},children:H&&ce()})})]})})})}},5391:function(e,o,t){t.d(o,{G:function(){return r},w:function(){return n}});var r={Admin:"Admin",Cook:"Cook",Customer:"Customer"},n={Dashboard:"Dashboard",JobsPosted:"Jobs Posted",AppliedJobs:"Applied Jobs",AppliedCandidates:"Applied Candidates",PostJobs:"Post Jobs",ApplicationForm:"ApplicationForm",JobDetails:"Job Details",ApplicantDetails:"Applicant Details"}}}]);
//# sourceMappingURL=636.06b3c832.chunk.js.map