"use strict";(self.webpackChunkreact_frontend=self.webpackChunkreact_frontend||[]).push([[311],{6311:function(e,t,o){o.r(t);var a=o(4942),i=o(1413),d=o(885),n=o(2791),r=o(6015),s=o(5017),l=o(7205),c=o(7892),u=o.n(c),p=o(7792),m=o(6571),v=o(5319),h=o(5985),g=o(763),f=o.n(g),b=o(1044),y=o(5391),Z=o(224),x=o(3329),j=o(7394),C=o(184);t.default=function(e){var t=e.user,o=e.OncloseHandler,c=e.data,g={jobdescription:"",location:"",fromdate:u()(new Date),todate:u()(new Date),wageperday:"",mobileno:"",userid:t.id},D=(0,n.useState)(!0===(null===c||void 0===c?void 0:c.isEditMode)?c.editData:g),M=(0,d.Z)(D,2),Y=M[0],k=M[1],w={headers:{Authorization:null===t||void 0===t?void 0:t.token}},E=function(e,t,o){if("fromdate"===t||"todate"===t)k((0,i.Z)((0,i.Z)({},Y),{},(0,a.Z)({},t,o)));else{var d=e.target,n=d.id,r=d.value;k((0,i.Z)((0,i.Z)({},Y),{},(0,a.Z)({},n,r)))}};return(0,C.jsxs)(C.Fragment,{children:["    ",(0,C.jsx)(r.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:(0,C.jsx)("div",{style:{display:"flex"},children:(0,C.jsxs)(m._,{dateAdapter:p.y,children:[(0,C.jsx)(s.Z,{required:!0,id:"jobdescription",label:"Job's Description",value:Y.jobdescription,onChange:E}),(0,C.jsx)(s.Z,{required:!0,id:"location",label:"Location",value:Y.location,onChange:E}),(0,C.jsx)(v.M,{disableFuture:!0,label:"From Date",openTo:"day",views:["year","month","day"],value:Y.fromdate,onChange:function(e){E("","fromdate",e)},id:"fromdate",renderInput:function(e){return(0,C.jsx)(s.Z,(0,i.Z)({id:"fromdate_textField"},e))}}),(0,C.jsx)(v.M,{label:"To Date",openTo:"day",views:["year","month","day"],value:Y.todate,onChange:function(e){E("","todate",e)},id:"todate",renderInput:function(e){return(0,C.jsx)(s.Z,(0,i.Z)({id:"todate_textField"},e))}}),(0,C.jsx)(s.Z,{required:!0,id:"wageperday",label:"Wage/Pay (per day)",value:Y.wageperday,onChange:E}),(0,C.jsx)("div",{style:{marginTop:"1rem",padding:"5px"},children:(0,C.jsx)(l.Z,{name:"save",value:!0===(null===c||void 0===c?void 0:c.isEditMode)?"Update":"Save",id:"btn_save",onClick:function(){f().isEmpty(Y.jobdescription)||f().isEmpty(Y.location)||f().isEmpty(Y.wageperday)||f().isEmpty(Y.fromdate)||f().isEmpty(Y.todate)?h.Am.error("Please enter all manadatory data",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"}):(document.getElementById("btn_save").disabled=!0,!0===(null===c||void 0===c?void 0:c.isEditMode)?b.ZP.put("http://localhost:3000/"+"jobs/".concat(Y.id),(0,i.Z)((0,i.Z)({},Y),{},{fromdate:u()(Y.fromdate).format("YYYY-MM-DD"),todate:u()(Y.todate).format("YYYY-MM-DD")}),w).then((function(e){200===e.status&&(h.Am.success("Job Updated Successfully.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"}),k(g),o("Job Details"))})).catch((function(e){h.Am.error("Failed to Save date.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})})).finally((function(){document.getElementById("btn_save").disabled=!1})):b.ZP.post("http://localhost:3000/jobs",(0,i.Z)((0,i.Z)({},Y),{},{fromdate:u()(Y.fromdate).format("YYYY-MM-DD"),todate:u()(Y.todate).format("YYYY-MM-DD")}),w).then((function(e){200===e.status&&(h.Am.success("Job Saved Successfully.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"}),k(g))})).catch((function(e){h.Am.error("Failed to Save date.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})})).finally((function(){document.getElementById("btn_save").disabled=!1})))},variant:"contained",color:"primary",startIcon:!0===(null===c||void 0===c?void 0:c.isEditMode)?(0,C.jsx)(Z.Z,{}):(0,C.jsx)(x.Z,{}),children:!0===(null===c||void 0===c?void 0:c.isEditMode)?"Update":"Save"})}),(null===t||void 0===t?void 0:t.userrole.toLowerCase())===y.G.Admin.toLocaleLowerCase()&&(0,C.jsx)("div",{style:{marginTop:"1rem",padding:"5px"},children:(0,C.jsx)(l.Z,{name:"cancel",value:"Cancel",onClick:function(){return o("Job Details")},variant:"contained",color:"primary",startIcon:(0,C.jsx)(j.Z,{}),children:"Back"})})]})})})]})}}}]);
//# sourceMappingURL=311.f5d848d4.chunk.js.map